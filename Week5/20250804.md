# 🍎 당일 태스크 공유

- `김명규`
    - 멀티 모듈 환경으로 프로젝트 구조를 설정하고, 테스트 코드 실행 과정에서 발생하는 오류를 해결함.
    - 오류의 원인은 테스트 코드의 동작을 위한 의존성 누락 → 테스트 실행 시에만 H2 DB 의존성을 추가함.
    - CD 환경 구축을 위해서 AWS CodeDeploy, S3, EC2, GitHub Actions의 동작 흐름에 대해서 공부함.
- `백승진`
    - 멀티 모듈 구조에서 `TestContainers`를 사용하여 테스트 빌드 오류를 해결하려고 시도했습니다.
    - 예보 도메인 객체를 구현했고 ****`JdbcTemplate`를 사용하여 하루 단위의 예보 데이터를 조회하는 쿼리를 작성했습니다.
    - `JUnit` 테스트를 통해 하루 단위의 예보를 조회하는 쿼리가 정삭 작동하는 지 확인했습니다.
    - 테스트에 필요한 격자(Grid)와 예보에 대한 `DomainFixture` 객체를 구현했고 각 모듈에 `DomainFixture` 의존성을 설정했습니다.
- `박종성`
    - atoms에 대해 보성님과 다시 깊게 고민
        - 더이상 쪼개지지 않는 단위로 설정 (ex. Icon, Button, Image, Text, Heading)
    - CI / CD 구현을 위해 GitHub Action, AWS S3, IAM에 대해 개인 레포와 개인 AWS계정을 통해 직접 구현을 해봄
- `시보성`
    - icon에 들어가는 svg path assets에 객체 형태로 모두 저장 → name를 통해 path를 가져올 수 있게 만들어서 Icon compnent에서 크기와 색깔등은 조정할 수 있도록
    - atoms에 대해 다시 한번 고민해봄
        - atomic design
            
            ⇒ 효율적이고 확장 가능한 웹 애플리케이션을 만드는 방법으로 UI elements를 작은 단위로 쪼개는 방법으로 일관적이고 모듈화된 디자인 시스템
            
            atoms → molecules → organisms → templates → pages
            
    - Text, Heading 등 좀 더 낮은 수준으로 atoms를 구현

---

# 🍏 다음날 태스크 공유

- `김명규`
    - CD 환경 성공적(?)으로 구축
        - CodeDeploy 실행을 위한 Role 생성
        - EC2, S3 권한 설정
        - CD workflow 스크립트 작성
    - 빠르게 해결한다면 등산로 api 구현에 돌입!
- `백승진`
    - 고도 계산 모듈 및 등산 테마를 계산해주는 모듈을 Common-Module 모듈 내에 구현
    - 시간에 따른 각 초단기, 단기, 산악 단기 예보를 조회하는 쿼리 작성 및 테스트 코드 작성
    - 각 예보 데이터에 따른 등산 멘트를 추천해주는 로직 작성
- `박종성`
    - 보성님과 atoms에 대해 더 깊게 고민해봐야할 것같다…
    - CI / CD에서 도메인에 대해 알아봐야 한다
        - AWS CloudFront, AWS Router53
- `시보성`
    - 아직 atoms에 대한 이해가 부족한 것 같고 모든 props과 태그를 받아서 현재 사용하고 있는데 이렇게 사용을 한다면 사용하는 것과 안하는 것의 차이를 모를 뿐더러 오히려 사용하는 것이 가독성을 해치고 더 어렵게 만든다고 생각이 되어 이를 개선하기 위해 서칭과 논의를 조금 더 하고 atoms를 확실하게 정하고 예보 페이지를 만들려고한다.

---

# ☀️ 어려웠던 점

- `김명규`
    - 멀티 모듈 구조
        - 멀티 모듈 구조로 프로젝트의 틀을 잡고 진행하고 있지만 처음 해보는 방식이라서 그런지 아직까지 익숙하지 않다.
        - 멀티 모듈 구조의 장점은 의존성의 분리 및 관리이고 오늘 헤맸던 부분 역시 의존성 관련 이슈였다.
        - 각 모듈 별로 의존성을 **“잘”** 관리하는 것이 어려운 것 같다.
    - CD 구현
        - CICD 환경을 직접 구축해본 경험이 없다 보니 어떤 흐름으로 동작하는 것인지 파악하는 것부터 어려웠다.
        - CD를 위해서 docker hub에 빌드한 이미지를 업로드하고, EC2에서 해당 이미지를 컨테이너로 띄우려고 생각했는데 이 과정에서 보안 이슈가 발생할 수 있다고 한다. CodeDeploy를 이용해서 CD를 구축하고 싶은데 권한 설정을 어떻게 해야 하나 막막하다…
- `백승진`
    - **멀티 모듈과 Gradle 설정의 어려움**
    멀티 모듈 구조를 처음 접하면서, Java 코드가 아닌 Gradle 스크립트로 의존성을 관리하는 데 어려움을 겪었습니다. 관련 자료가 부족해 초기 환경 설정을 하는 데 많은 시간이 소요되었습니다.
    - **50줄짜리 네이티브 쿼리 디버깅의 어려움**
        
        50줄 가까이 되는 긴 네이티브 쿼리를 작성하다 보니 중간에 오타나 문법 오류가 발생했을 때, 이를 찾는 데 어려움이 있었습니다
        
    - **JPA `save()`와 `flush()`의 동작 방식 이해 부족**`JUnit` 테스트에서 `JPA`의 `save()` 메서드가 DB에 즉시 반영되지 않는다는 점을 간과하여, `JdbcTemplate`로 데이터를 조회하는 테스트가 3시간 동안 실패했습니다. `saveAndFlush()`를 사용해야만 데이터가 즉시 동기화되어 테스트가 통과된다는 점을 파악하는 데 시간이 걸렸습니다.
- `박종성`
    - 어떤 것이 atoms인지 정의하는 것이 어려웠다.
        - 더 이상 쪼개지지 않는 것이 atom에 해당하는데, 너무 쪼개면 그냥 태그를 사용하는 것이 더 좋을 것 같다는 생각과 충돌해서 어려웠다.
        - 범용적으로 하면서도 일정 스타일을 지정하는 것에 대한 타협점이 어려웠다.
    - CI / CD를 처음 해봤는데, 도메인 설정 단계 자체에 대해 생각하지 않고 있었다. 또한, 그것을 위한 AWS작업의 흐름이 여러 개의 서비스들이 있다보니 어려웠다.
- `시보성`
    - Atomic Design의 이해
        - Atoms → 더이상 분해할 수 없는 가장 단순하고 독립적인 컴포넌트 button, form, input, label과 같은 작은 단위 요소
            
            함수 컴포넌트를 만들고 그것에 `간단한 로직`이나 의도한 기능을 수행하는데 `필요한 상태를 포함` 버튼 컴포넌트는 클릭 이벤트나 스타일링만 포함 
            
            → `재사용이 가능해야 하고 어떤 맥락이나 상황에도 사용이 가능해야한다.` 
            
        - Molecules → 두 개 이상의 아톰 컴포넌트로 구성되며 아톰 컴포넌트보다 더 복잡한 UI를 만드는데 사용
            
            from, cards 컴포넌트와 같은 단순한 UI 요소들이다. 
            
            → 카드 컴포넌트는 이미지, 타이틀, 설명으로 구성되어있으며 이 각각의 구성요소들은 아톰 컴포넌트이다. 
            
            → 아톰 컴포넌트와 마찬가지로 최소한의 논리와 의도한 기능을 수행하기 위한 상태를 포함해야하며 `재사용/ 특정 부분에서만 사용되는 것이 아닌 어떤 문맥이나 상황에서도 사용이 가능`해야한다.
            
        - ORGANISMS → 복잡성 정도와 전박적인 사용자 인터페이스를 만드는데 사용
            
            

---

# ☁️ 개선할 점

- `김명규`
    - CD를 구현하기 위해서는 CodeDeploy, S3, EC2에 설정이 필요하지만 어려울 것 같고, 하나하나 설정을 완벽하게 이해하고 진행하고 싶어서 그런지 항상 행동으로 옮기는 것이 느린 것 같다. 막상 시작하고 나서도 마주하게 되는 문제는 많다. 앞으로는 주저하지 말고 부딪히면서 개선하는 방식으로 진행해보는 것도 좋을 것 같다.
- `백승진`
    - JPA의 기본적인 동작 방식(영속성 컨텍스트)을 깊이 이해하여, `save()`와 `flush()`의 차이 때문에 테스트에서 불필요한 시간을 허비하지 않도록 하겠습니다. 또한, 이제 너무 밤늦게까지 하지 않고, 다음 날 컨디션을 고려하여 업무 시간을 조절하도록 하겠습니다.
- `박종성`
    - 구조에 대해 초반에 충빈히 고민을 해보고 진행했어야 한다. 하지만, 우리만의 기준을 정하고 그것이 일반적인 atoms구조와 차이가 있어서 재설계에 시간을 많이 쏟았다. 초반에 정말 충분히 고민해보고 실행에 옮겨야 함을 깨달았다.
- `시보성`
    - 진행하면서 먼저 충분한 리서치를 하고 진행을 해야하는데 이미 알고 있는 지식과 지레짐작하여 프로젝트를 진행하고 있는 점이 아쉬운 점으로 생각되어서 좀 더 서칭을 하고 물어보면서 진행하는 것이 좋을 것이라는 생각이 들었다.

---
