## 오늘의 회고

오늘은 **multipart/form-data 파서**를 구현했습니다. 또한, 기존의 **Transformer**가 가진 확장성의 가치를 다시 한번 확인했고, 종합 프로젝트에서 사용할 등산로 데이터에서 문제에 직면했습니다.

---

### 1. 리뷰

#### 오늘 한 작업

* **`multipart/form-data` 파서 구현**: `Content-Type` 헤더에 주어진 **`boundary`** 를 활용해 각 파트를 구분하는 로직을 직접 구현했습니다. 이 과정에서 `BodyParser` 인터페이스의 시그니처 변경 여부를 고민했지만, 범용성을 위해 기존 `String` 타입 유지 및 `boundary` 별도 추출 방식으로 진행했습니다.
* **BodyTransformer 기능 추가**: 이전에 설계해둔 확장성 덕분에 새로운 기능을 손쉽게 추가할 수 있었습니다.
* **등산로 데이터 검토**: 프로젝트에 사용할 등산로 데이터를 확인하던 중, 같은 등산로인데도 끊겨 있는 문제점을 발견했습니다.

#### 작업 과정에서 배운 것

* **HTTP/Multipart 프로토콜 이해**: `multipart/form-data` 파싱 원리, 특히 **`boundary`가 `Content-Type` 헤더에 주어진다는 걸 알게 됐습니다.**
* **인터페이스 설계의 중요성**: `BodyTransformer`의 사례처럼, 초기 단계에서 **확장성을 고려한 인터페이스 설계**가 향후 기능 추가 및 유지보수에 얼마나 큰 이점을 가져다주는지 다시 한번 깨달았습니다.

#### 어려웠던 점

* **`BodyParser` 설계와 코드 복잡성**: `multipart/form-data`의 `boundary` 처리를 위해 `BodyParser` 인터페이스의 시그니처를 변경하지 않는 대신, 별도로 `boundary`를 추출하고 처리하는 방식이 코드를 다소 복잡하게 만들었습니다. 범용성과 특정 요구사항 간의 트레이드오프 지점이었습니다.
* **`multipart/form-data` 내부 스펙에 대한 무지함**: 이전에 `multipart/form-data`를 사용하면서 그 **내부 스펙에 대해 충분히 알지 못했던 점이 Body 파싱 로직을 구현하는 데 어려움**으로 작용했습니다.

---

### 2. 회고 (KPT)

* **Keep (유지할 점)**
    * **확장성 있는 설계의 재확인**: **BodyTransformer**가 새로운 기능 추가에 비교적 유연하게 대응한 점은 다행스럽게 생각합니다. 앞으로도 유연한 설계에 대한 고민을 이어가겠습니다.

* **Problem (문제 상황)**
    * **`BodyParser` 코드 복잡성**: `multipart/form-data`의 특수성을 처리하기 위해 인터페이스 시그니처 변경을 피한 결과, `BodyParser` 내부 로직이 다소 복잡해지고 가독성이 저해된 부분이 있습니다. 인터페이스 메서드 시그니처가 다양한 시나리오를 포괄할 수 있도록 미리 고려하며 설계했어야 했는데 그러지 못했던 것 같습니다.
    * **내부 스펙에 대한 이해 부족**: **`multipart/form-data`를 사용하면서도 그 내부 스펙에 대해 무지** 했습니다.

* **Try (개선 방안)**
    * **포괄적 사고**: 앞으로는 특정 상황에만 국한되지 않는, 다양한 경우를 포괄적으로 커버할 수 있는 설계를 미리 생각하며 설계하겠습니다.
    * **기술의 원리 이해 우선**: 너무 스프링 같은 프레임워크의 편안함에 기대지 않고, 어떤 기술이나 라이브러리를 사용하기 전에 먼저 그것이 무엇인지 파악하는 습관을 들이겠습니다.
